# API 接口文档

## `get.go`

- `/ping`：这是一个简单的测试接口，用于检查服务器是否正常运行。它接受一个GET请求，返回一个JSON格式的响应，包含一个`message`字段，值为`"请求成功"`。

- `api/user/list/:name`：这是一个根据用户名查询用户列表的接口，用于获取指定用户的信息。它接受一个GET请求，参数为`name`，表示要查询的用户名。它返回一个JSON格式的响应，包含三个字段：
    - `msg`：表示查询的结果，如果成功则为`"查询成功"`，如果失败或者没有找到数据则为`"查询失败，数据不存在"`。
    - `data`：表示查询到的用户列表，是一个数组，每个元素是一个对象，包含用户的各种属性，如`id`，`name`，`age`等。如果没有查询到数据，则为空数组。
    - `code`：表示响应的状态码，如果成功则为`"200"`，如果失败则为`"400"`。

- `api/user/list/`：这是一个分页查询用户列表的接口，用于获取所有用户的信息，并按照指定的页码和每页数量返回数据。它接受一个GET请求，参数有三个：
    - `pageSize`：表示每页显示的数据条数，如果不传递该参数，则默认为-1，表示查询全部数据。
    - `pageNum`：表示当前的页码，如果不传递该参数，则默认为1，表示第一页。
    - 其他任意参数：表示查询的条件，可以是用户的任意属性，如`name`，`age`等，参数的值会作为模糊匹配的条件，例如`name=张`表示查询名字包含`张`的用户。如果不传递任何条件，则表示查询所有用户。
    - 它返回一个JSON格式的响应，包含三个字段：
        - `msg`：表示查询的结果，如果成功则为`"查询成功"`，如果失败或者没有找到数据则为`"查询失败，数据不存在"`。
        - `data`：表示查询到的用户列表，是一个对象，包含四个字段：
            - `list`：表示当前页的用户数据，是一个数组，每个元素是一个对象，包含用户的各种属性，如`id`，`name`，`age`等。如果没有查询到数据，则为空数组。
            - `total`：表示总的数据条数，是一个数字。
            - `pageNum`：表示当前的页码，是一个数字。
            - `pageSize`：表示每页显示的数据条数，是一个数字。
        - `code`：表示响应的状态码，如果成功则为`"200"`，如果失败则为`"400"`。


## `delete.go`

- `api/user/delete/:id`：这是一个删除用户的接口，用于从数据库中删除指定id的用户信息。它接受一个POST请求，参数为一个路径参数`id`，表示要删除的用户的id。它返回一个JSON格式的响应，包含三个字段：
    - `msg`：表示删除的结果，如果成功则为`"删除成功"`，如果失败或者数据不存在则为`"删除失败，数据不存在"`。
    - `data`：表示删除的用户信息，是一个数组，每个元素是一个对象，包含用户的各种属性，如`id`，`name`，`age`等。如果数据不存在，则为空数组。如果删除失败，则为错误原因。
    - `code`：表示响应的状态码，如果成功则为`"200"`，如果失败则为`"400"`。


## `post.go`

- `api/user/add`：这是一个添加用户的接口，用于向数据库中插入一条用户信息。它接受一个POST请求，参数为一个JSON格式的对象，包含用户的各种属性。
    ```js
    {
        "name": "张三",
        "level": "高级",
        "email": "zhangsan@example.com",
        "phone": "12345678901",
        "birthday": "1990-01-01",
        "address": "北京市朝阳区"
    }
    ```
    它返回一个JSON格式的响应，包含三个字段：
    - `msg`：表示添加的结果，如果成功则为`"添加成功"`，如果失败或者数据校验未通过则为`"添加失败，数据校验未通过"`。
    - `data`：表示添加的用户信息，是一个对象，包含用户的各种属性，如`id`，`name`，`age`等。如果数据校验未通过，则为错误信息。
    - `code`：表示响应的状态码，如果成功则为`"200"`，如果失败则为`"400"`。


## `put.go`

- `api/user/update/:id/`：这是一个更新用户的接口，用于修改数据库中指定id的用户信息。它接受一个POST请求，参数为一个JSON格式的对象，包含用户的各种属性。
    ```js
    {
        "name": "张三",
        "level": "高级",
        "email": "zhangsan@example.com",
        "phone": "12345678901",
        "birthday": "1990-01-01",
        "address": "北京市朝阳区"
    }
    ```
    另外，还需要在请求的路径中传递一个`id`参数，表示要更新的用户的id。
    
    它返回一个JSON格式的响应，包含三个字段：
    - `msg`：表示更新的结果，如果成功则为`"更新成功"`，如果失败或者数据校验未通过则为`"更新失败，数据校验未通过"`，如果id格式错误则为`"id格式错误"`，如果数据不存在则为`"更新失败，数据不存在"`，如果零行变动则为`"更新失败，零行变动"`。
    - `data`：表示更新的用户信息，是一个对象，包含用户的各种属性，如`id`，`name`，`age`等。如果数据校验未通过，则为错误信息。如果更新失败，则为错误原因。
    - `code`：表示响应的状态码，如果成功则为`"200"`，如果失败则为`"400"`。



